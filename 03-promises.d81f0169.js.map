{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,QAChCC,EAAaF,SAASC,cAAc,kBACpCE,EAAYH,SAASC,cAAc,iBACnCG,EAAaJ,SAASC,cAAc,mBAyB1C,SAASI,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAQ,IAAIC,SAAQ,CAACC,EAASC,KAC5BC,YAAW,KACLN,EACFI,EAAQ,qBAAqBN,QAAeC,OAE5CM,EAAO,oBAAoBP,QAAeC,MAAU,GAErDA,EAAM,G,CAjCbR,EAAOgB,iBAAiB,UAExB,SAAmBC,GACjBA,EAAIC,iBAEJ,IAAIC,EAAQC,OAAOjB,EAAWkB,OAC9B,MAAMC,EAAOF,OAAOhB,EAAUiB,OACxBE,EAASH,OAAOf,EAAWgB,OAGjC,IAAKG,EAAI,EAAGA,GAAKD,EAAQC,GAAI,EAC3BlB,EAAckB,EAAGL,GACZM,MAAK,EAAClB,SAAEA,EAAQC,MAAEA,MACvBV,EAAA4B,OAAOC,QAAQ,uBAAqBpB,QAAiBC,MAAU,IAEhEoB,OAAM,EAACrB,SAAEA,EAAQC,MAAEA,MACjBV,EAAA4B,OAAOG,QAAQ,sBAAoBtB,QAAeC,MAAU,IAG7DW,GAASG,C","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix';\n\nconst formEl = document.querySelector('form');\nconst fieldDelay = document.querySelector('[name=\"delay\"]');\nconst fieldStep = document.querySelector('[name=\"step\"]');\nconst fildAmount = document.querySelector('[name=\"amount\"]');\n\nformEl.addEventListener('submit', onSubmit);\n\nfunction onSubmit (evt) {\n  evt.preventDefault();\n\n  let delay = Number(fieldDelay.value);\n  const step = Number(fieldStep.value);\n  const amount = Number(fildAmount.value);\n\n\n  for (i = 1; i <= amount; i +=1) {\n    createPromise(i, delay)\n        .then(({ position, delay }) => {\n    Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n     Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n\n    delay += step; \n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  \n  return  new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(`Fulfilled promise ${position} in ${delay}ms`); \n      } else {\n        reject(`Rejected promise ${position} in ${delay}ms`);\n      }\n    }, delay);\n    \n  })\n};\n\n\n\n\n\n// const promise = new Promise((resolve, reject) => {\n//   const canFulfill = Math.random() > 0.5;\n  \n//   setTimeout(() => {\n//     if (canFulfill) {\n//       resolve('Ok')\n//     }\n//     reject(`ERROR`)\n//   }, 1000);\n// });\n\n// promise.then(\n//   result => {\n//     console.log(`${result}`);\n//   },\n//   error => {\n//     console.log(`${error}`)\n//   }\n// )\n\n// promise\n//   .then(result => {\n//     console.log(result);\n//     return 5;\n//   })\n//   .then(x => {\n//     console.log(x);\n//     return 10;\n//   })\n//   .then(y => {\n//     console.log(y);\n//   })\n\n// const makeOrder = dish => {\n//   const DELAY = 1000;\n//   const passed = Math.random() > 0.5;\n\n//   const promise = new Promise((resolve, reject) => {\n//     setTimeout(() => {\n//       if (passed) {\n//         resolve('Ok')\n//       }\n//       reject(`ERROR`)\n//     }, DELAY);\n//   })\n\n//   return promise;\n// };\n\n// const p = makeOrder('Ice-cream');\n\n// p.then(onMakeOderSuccess).catch(onMakeOderError);\n\n// function onMakeOderSuccess(result) {\n//   console.log('onMakeOderSuccess');\n//   console.log(result);\n// }\n\n// function onMakeOderError(error) {\n//   console.log('onMakeOderError');\n//   console.log(error)\n// }"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$fieldDelay","$47d4ff9957288465$var$fieldStep","$47d4ff9957288465$var$fildAmount","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","evt","preventDefault","delay1","Number","value","step","amount","i","then","Notify","success","catch","failure"],"version":3,"file":"03-promises.d81f0169.js.map"}