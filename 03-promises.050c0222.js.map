{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAASC,SAASC,cAAc,QAChCC,EAAaF,SAASC,cAAc,kBACpCE,EAAYH,SAASC,cAAc,iBACnCG,EAAaJ,SAASC,cAAc,mBAyB1C,SAASI,EAAcC,EAAUC,GAC/B,IAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAQ,IAAIC,SAAQ,SAACC,EAASC,GAC5BC,YAAW,WACLN,EACFI,EAAQ,qBAAoCG,OAAfT,EAAS,QAAYS,OAANR,EAAM,OAElDM,EAAO,oBAAmCE,OAAfT,EAAS,QAAYS,OAANR,EAAM,M,GAEjDA,E,IAjCPR,EAAOiB,iBAAiB,UAExB,SAAmBC,GACjBA,EAAIC,iBAEJ,IAAIC,EAAQC,OAAOlB,EAAWmB,OACxBC,EAAOF,OAAOjB,EAAUkB,OACxBE,EAASH,OAAOhB,EAAWiB,OAGjC,IAAKG,EAAI,EAAGA,GAAKD,EAAQC,GAAI,EAC3BnB,EAAcmB,EAAGL,GACZM,MAAK,SAAAC,G,IAAGpB,EAAQoB,EAARpB,SAAUC,EAAKmB,EAALnB,MACvBV,EAAA8B,OAAOC,QAAQ,uBAAwCb,OAAfT,EAAS,QAAYS,OAANR,EAAM,M,IAE9DsB,OAAM,SAAAH,G,IAAGpB,EAAQoB,EAARpB,SAAUC,EAAKmB,EAALnB,MACjBV,EAAA8B,OAAOG,QAAQ,sBAAqCf,OAAfT,EAAS,QAAYS,OAANR,EAAM,M,IAG3DY,GAASG,C","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix';\n\nconst formEl = document.querySelector('form');\nconst fieldDelay = document.querySelector('[name=\"delay\"]');\nconst fieldStep = document.querySelector('[name=\"step\"]');\nconst fildAmount = document.querySelector('[name=\"amount\"]');\n\nformEl.addEventListener('submit', onSubmit);\n\nfunction onSubmit (evt) {\n  evt.preventDefault();\n\n  let delay = Number(fieldDelay.value);\n  const step = Number(fieldStep.value);\n  const amount = Number(fildAmount.value);\n\n\n  for (i = 1; i <= amount; i +=1) {\n    createPromise(i, delay)\n        .then(({ position, delay }) => {\n    Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n     Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n\n    delay += step; \n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  \n  return  new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(`Fulfilled promise ${position} in ${delay}ms`); \n      } else {\n        reject(`Rejected promise ${position} in ${delay}ms`);\n      }\n    }, delay);\n    \n  })\n};\n\n\n\n\n\n// const promise = new Promise((resolve, reject) => {\n//   const canFulfill = Math.random() > 0.5;\n  \n//   setTimeout(() => {\n//     if (canFulfill) {\n//       resolve('Ok')\n//     }\n//     reject(`ERROR`)\n//   }, 1000);\n// });\n\n// promise.then(\n//   result => {\n//     console.log(`${result}`);\n//   },\n//   error => {\n//     console.log(`${error}`)\n//   }\n// )\n\n// promise\n//   .then(result => {\n//     console.log(result);\n//     return 5;\n//   })\n//   .then(x => {\n//     console.log(x);\n//     return 10;\n//   })\n//   .then(y => {\n//     console.log(y);\n//   })\n\n// const makeOrder = dish => {\n//   const DELAY = 1000;\n//   const passed = Math.random() > 0.5;\n\n//   const promise = new Promise((resolve, reject) => {\n//     setTimeout(() => {\n//       if (passed) {\n//         resolve('Ok')\n//       }\n//       reject(`ERROR`)\n//     }, DELAY);\n//   })\n\n//   return promise;\n// };\n\n// const p = makeOrder('Ice-cream');\n\n// p.then(onMakeOderSuccess).catch(onMakeOderError);\n\n// function onMakeOderSuccess(result) {\n//   console.log('onMakeOderSuccess');\n//   console.log(result);\n// }\n\n// function onMakeOderError(error) {\n//   console.log('onMakeOderError');\n//   console.log(error)\n// }"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$fieldDelay","$ce04d3a99e08e73b$var$fieldStep","$ce04d3a99e08e73b$var$fildAmount","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","concat","addEventListener","evt","preventDefault","delay1","Number","value","step","amount","i","then","param","Notify","success","catch","failure"],"version":3,"file":"03-promises.050c0222.js.map"}